<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AWS File Upload</title>

<style>
body { font-family: Arial; background:#f4f6f8; }
.box {
  width:420px; margin:120px auto; padding:25px;
  background:#fff; text-align:center;
  border-radius:8px; box-shadow:0 5px 15px rgba(0,0,0,.1);
}
button {
  background:#007bff; color:#fff;
  padding:10px 25px; border:none;
  border-radius:4px; cursor:pointer;
}
#status { margin-top:15px; }
</style>
</head>

<body>
<div class="box">
  <h2>Upload File to AWS</h2>
  <input type="file" id="file"><br><br>
  <button onclick="upload()">Upload</button>
  <div id="status"></div>
</div>

<script>
function upload() {
  const file = document.getElementById("file").files[0];
  const status = document.getElementById("status");

  if (!file) {
    status.innerHTML = "Please select a file";
    status.style.color = "red";
    return;
  }

  const data = new FormData();
  data.append("file", file);

  status.innerHTML = "Uploading...";

  fetch("/api/upload.php", {
    method: "POST",
    body: data
  })
  .then(res => res.json())
  .then(res => {
    if (res.success) {
      status.innerHTML = `<a href="${res.url}" target="_blank">View File</a>`;
      status.style.color = "green";
    } else {
      status.innerHTML = res.message;
      status.style.color = "red";
    }
  })
  .catch(() => {
    status.innerHTML = "Upload successfull.";
    status.style.color = "red" ;
  });
}
</script>
</body>
</html>
